<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>階層期間表示テーブル</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 16px;
            background-color: #f5f5f5;
        }
        
        .timeline-container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            border: 2px solid #333;
            border-radius: 8px;
            overflow: hidden;
        }
        
        /* major categories */
        
        .major-category {
            display: flex;
            border-bottom: 2px solid #333;
        }
        
        .major-category:last-child {
            border-bottom: none;
        }
        
        .major-category-label {
            min-width: 80px;
            padding: 12px 16px;
            font-weight: bold;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-right: 2px solid #333;
            writing-mode: vertical-lr;
            text-orientation: mixed;
        }
        
        .major-category-1 .major-category-label {
            background-color: #cce7ff;
        }
        
        .major-category-2 .major-category-label {
            background-color: #ccffcc;
        }
        
        .major-category-3 .major-category-label {
            background-color: #ffffcc;
        }
        
        .major-category-4 .major-category-label {
            background-color: #ffccff;
        }
        
        /* middle categories */
        
        .middle-categories {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .middle-category {
            display: flex;
            border-bottom: 1px solid #333;
        }
        
        .middle-category:last-child {
            border-bottom: none;
        }
        
        .middle-category-label {
            min-width: 300px;
            max-width: 300px;
            padding: 12px 24px;
            font-weight: bold;
            font-size: 14px;
            text-align: left;
            align-content: center;
            border-right: 1px solid #333;
            writing-mode: horizontal-tb;
            word-break: break-word;
            white-space: normal;
        }
        
        .major-category-1 .middle-category-label {
            background-color: #e6f3ff;
        }
        
        .major-category-2 .middle-category-label {
            background-color: #e6ffe6;
        }
        
        .major-category-3 .middle-category-label {
            background-color: #ffffe6;
        }
        
        .major-category-4 .middle-category-label {
            background-color: #ffe6ff;
        }
        
        /* periods */
        
        .periods {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .major-category-1 .periods {
            background-color: #f0f8ff;
        }
        
        .major-category-2 .periods {
            background-color: #f0fff0;
        }
        
        .major-category-3 .periods {
            background-color: #fffff0;
        }
        
        .major-category-4 .periods {
            background-color: #fff0ff;
        }
        
        .period {
            padding: 12px 20px;
            border-bottom: 1px solid #999;
            position: relative;
        }
        
        .period:last-child {
            border-bottom: none;
        }
        
        .period-header {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .period-memo {
            font-size: 13px;
            color: #555;
            line-height: 1.4;
        }
        
        .period-memo ul {
            margin: 5px 0 0 0;
            padding-left: 20px;
        }
        
        .period-memo li {
            margin-bottom: 3px;
        }
        
        /* 期間の長さに応じた高さ調整 */
        .period-short {
            min-height: 30px;
        }
        .period-medium {
            min-height: 60px;
        }
        .period-long {
            min-height: 120px;
        }
        .period-extra-long {
            min-height: 150px;
        }
        
        .triangle {
            display: inline-block;
            width: 0;
            height: 0;
            border-left: 8px solid #333;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            margin-right: 8px;
            vertical-align: middle;
        }
        
    </style>
</head>

<body>
    <div class="timeline-container">
        <!-- 会社員時代.一社目 -->
        <div class="major-category major-category-1">
            <div class="major-category-label">会社員時代<br>一社目</div>
            <div class="middle-categories">
                <div class="middle-category">
                    <div class="middle-category-label">鉄道：線路管理システム</div>
                    <div class="periods">
                        <div class="period period-extra-long">
                            <div class="period-header"><span class="triangle"></span>定期更改</div>
                        </div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">鉄道：架線管理システム</div>
                    <div class="periods">
                        <div class="period period-medium">
                            <div class="period-header"><span class="triangle"></span>2008/09～2009/05</div>
                        </div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">防衛庁関連システム</div>
                    <div class="periods">
                        <div class="period period-medium">
                            <div class="period-header"><span class="triangle"></span>2009/06～2010/04</div>
                        </div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">鉄道：ダイヤ管理システム</div>
                    <div class="periods">
                        <div class="period period-short">
                            <div class="period-header"><span class="triangle"></span>2007/09～2008/01</div>
                        </div>
                        <div class="period period-short">
                            <div class="period-header"><span class="triangle"></span>2008/03～2008/08</div>
                        </div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">医療系管理システム</div>
                    <div class="periods">
                        <div class="period period-short">
                            <div class="period-header"><span class="triangle"></span>2008/02～2008/03</div>
                        </div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">鉄道：ICカード管理システム</div>
                    <div class="periods">
                        <div class="period period-medium">
                            <div class="period-header"><span class="triangle"></span>2010/05～2011/06</div>
                        </div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">鉄道：土木設備管理システム</div>
                    <div class="periods">
                        <div class="period period-long">
                            <div class="period-header"><span class="triangle"></span>2011/07～2012/10</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 会社員時代.二社目 -->
        <div class="major-category major-category-2">
            <div class="major-category-label">会社員時代<br>二社目</div>
            <div class="middle-categories">
                <div class="middle-category">
                    <div class="middle-category-label">債権管理システム</div>
                    <div class="periods">
                        <div class="period period-short"  ><div class="period-header"><span class="triangle"></span>2013/03～2013/08</div></div>
                        <div class="period period-medium" ><div class="period-header"><span class="triangle"></span>2013/10～2014/09</div></div>
                        <div class="period period-long"   ><div class="period-header"><span class="triangle"></span>2014/10～2016/09</div></div>
                        <div class="period period-short"  ><div class="period-header"><span class="triangle"></span>2015/02～2015/03</div></div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">口座振替ツール改修</div>
                    <div class="periods">
                        <div class="period period-short"><div class="period-header"><span class="triangle"></span>2013/06～2013/09</div></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 会社員時代.三社目 -->
        <div class="major-category major-category-3">
            <div class="major-category-label">会社員時代<br>三社目</div>
            <div class="middle-categories">
                <div class="middle-category">
                    <div class="middle-category-label">CRM/SFAパッケージカスタマイズ</div>
                    <div class="periods">
                        <div class="period period-extra-long"><div class="period-header"><span class="triangle"></span>2016/10～2017/09</div></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 個人事業主時代 -->
        <div class="major-category major-category-4">
            <div class="major-category-label">個人事業主時代</div>
            <div class="middle-categories">
                <div class="middle-category">
                    <div class="middle-category-label">著作権管理社内システム</div>
                    <div class="periods">
                        <div class="period period-short"><div class="period-header"><span class="triangle"></span>2017/12～2018/03</div></div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">営業支援社内サブシステム</div>
                    <div class="periods">
                        <div class="period period-long"><div class="period-header"><span class="triangle"></span>2018/04～2019/10</div></div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">飲食店向けアプリ開発【副業】</div>
                    <div class="periods">
                        <div class="period period-short"><div class="period-header"><span class="triangle"></span>2019/09～2019/11</div></div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">DB登録検索システム</div>
                    <div class="periods">
                        <div class="period period-medium"><div class="period-header"><span class="triangle"></span>2020/02～2020/09</div></div>
                    </div>
                </div>
                <div class="middle-category">
                    <div class="middle-category-label">API連携基盤開発</div>
                    <div class="periods">
                        <div class="period period-extra-long"><div class="period-header"><span class="triangle"></span>2021/04～2024/11</div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>